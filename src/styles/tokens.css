/**
 * Fractal Design Tokens
 * =====================
 * 
 * This file defines the core design tokens using CSS custom properties.
 * All values use the OKLCH color space for perceptual uniformity.
 * 
 * OKLCH Format: oklch(Lightness Chroma Hue)
 * - Lightness: 0% (black) to 100% (white)
 * - Chroma: 0 (gray) to ~0.4 (maximum saturation)
 * - Hue: 0-360 degrees on the color wheel
 * 
 * Design Principles:
 * 1. Zero chromatic colors in core UI (chroma = 0)
 * 2. Single accent for errors (red hue)
 * 3. Chart colors reserved for data visualization only
 * 
 * Theme Switching:
 * - Light mode is the default (defined in :root)
 * - Dark mode activates via [data-theme="dark"] attribute
 * - System preference detection via @media (prefers-color-scheme)
 */

:root {
  /* ============================================
   * LIGHT MODE (Default)
   * Clean, bright interface with dark text
   * ============================================ */
  
  /* Backgrounds - Pure to subtle grays */
  --bg-primary: oklch(100% 0 0);      /* #ffffff - Main background */
  --bg-secondary: oklch(97% 0 0);     /* ~#f7f7f7 - Subtle background */
  --bg-tertiary: oklch(94% 0 0);      /* ~#efefef - Emphasized areas */
  
  /* Text - Near-black to gray */
  --text-primary: oklch(15% 0 0);     /* ~#1a1a1a - Main text */
  --text-secondary: oklch(40% 0 0);   /* ~#5c5c5c - Secondary text */
  --text-tertiary: oklch(55% 0 0);    /* ~#7a7a7a - Tertiary/muted text */
  
  /* Borders - Light to medium grays */
  --border-primary: oklch(85% 0 0);   /* ~#d4d4d4 - Default borders */
  --border-strong: oklch(70% 0 0);    /* ~#a3a3a3 - Emphasized borders */
  --border-focus: oklch(15% 0 0);     /* Same as text-primary - Focus rings */
  
  /* ============================================
   * ACCENT COLOR (Error/Destructive Only)
   * Vivid red - the ONLY chromatic color in UI
   * ============================================ */
  --accent-error: oklch(55% 0.25 25);      /* Vivid red for errors */
  --accent-error-bg: oklch(95% 0.05 25);   /* Light red background */
  
  /* ============================================
   * CHART COLORS (Data Visualization Only)
   * These colors are NEVER used in the core UI
   * ============================================ */
  --chart-1: oklch(65% 0.2 250);      /* Blue - Primary data */
  --chart-2: oklch(70% 0.2 150);      /* Green - Secondary data */
  --chart-3: oklch(75% 0.2 85);       /* Yellow - Tertiary data */
  --chart-4: oklch(65% 0.2 310);      /* Purple - Quaternary data */
  --chart-5: oklch(70% 0.2 50);       /* Orange - Quinary data */
  
  /* ============================================
   * TYPOGRAPHY
   * Monospace-first with sans-serif fallback
   * ============================================ */
  
  /* Font Families */
  --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'IBM Plex Mono', 'SF Mono', monospace;
  
  /* Font Sizes - Based on 1rem = 16px */
  --text-xs: 0.75rem;     /* 12px - Captions, labels */
  --text-sm: 0.875rem;    /* 14px - Small text, hints */
  --text-base: 1rem;      /* 16px - Body text */
  --text-lg: 1.125rem;    /* 18px - Large body */
  --text-xl: 1.25rem;     /* 20px - Small headings */
  --text-2xl: 1.5rem;     /* 24px - Headings */
  --text-3xl: 2rem;       /* 32px - Large headings */
  --text-4xl: 2.5rem;     /* 40px - Display text */
  
  /* Line Heights */
  --leading-tight: 1.2;    /* Headings */
  --leading-normal: 1.5;   /* Body text */
  --leading-relaxed: 1.75; /* Loose text */
  
  /* Letter Spacing */
  --tracking-tight: -0.02em;   /* Condensed - headings */
  --tracking-normal: 0;        /* Default */
  --tracking-wide: 0.02em;     /* Expanded - labels */
  
  /* ============================================
   * SPACING SCALE
   * Based on 4px (0.25rem) increments
   * ============================================ */
  --space-1: 0.25rem;    /* 4px */
  --space-2: 0.5rem;     /* 8px */
  --space-3: 0.75rem;    /* 12px */
  --space-4: 1rem;       /* 16px */
  --space-5: 1.25rem;    /* 20px */
  --space-6: 1.5rem;     /* 24px */
  --space-8: 2rem;       /* 32px */
  --space-10: 2.5rem;    /* 40px */
  --space-12: 3rem;      /* 48px */
  --space-16: 4rem;      /* 64px */
  --space-20: 5rem;      /* 80px */
  --space-24: 6rem;      /* 96px */
  
  /* ============================================
   * NEOBRUTALIST DESIGN TOKENS
   * Hard edges, bold borders, no frills
   * ============================================ */
  --border-width: 2px;          /* Standard border */
  --border-width-strong: 3px;   /* Emphasized border */
  --border-radius: 0;           /* Zero radius - hard edges */
  
  /* ============================================
   * TRANSITIONS
   * Fast, functional animations
   * ============================================ */
  --transition-fast: 100ms ease-out;
  --transition-normal: 200ms ease-out;
  --transition-slow: 300ms ease-out;
}

/* ============================================
 * DARK MODE
 * Applied via data-theme="dark" attribute
 * ============================================ */
[data-theme="dark"] {
  /* Backgrounds - Near-black to dark grays */
  --bg-primary: oklch(12% 0 0);       /* ~#1a1a1a - Main background */
  --bg-secondary: oklch(18% 0 0);     /* ~#2a2a2a - Subtle background */
  --bg-tertiary: oklch(22% 0 0);      /* ~#333333 - Emphasized areas */
  
  /* Text - Off-white to gray */
  --text-primary: oklch(92% 0 0);     /* ~#e8e8e8 - Main text */
  --text-secondary: oklch(65% 0 0);   /* ~#999999 - Secondary text */
  --text-tertiary: oklch(50% 0 0);    /* ~#737373 - Tertiary/muted text */
  
  /* Borders - Dark grays */
  --border-primary: oklch(25% 0 0);   /* ~#3d3d3d - Default borders */
  --border-strong: oklch(35% 0 0);    /* ~#525252 - Emphasized borders */
  --border-focus: oklch(92% 0 0);     /* Same as text-primary - Focus rings */
  
  /* Adjusted accent background for dark mode */
  --accent-error-bg: oklch(20% 0.1 25);
}

/* ============================================
 * SYSTEM PREFERENCE DETECTION
 * Applies dark mode when no explicit preference set
 * and system prefers dark
 * ============================================ */
@media (prefers-color-scheme: dark) {
  /* Only apply if no data-theme attribute is set */
  :root:not([data-theme="light"]) {
    --bg-primary: oklch(12% 0 0);
    --bg-secondary: oklch(18% 0 0);
    --bg-tertiary: oklch(22% 0 0);
    
    --text-primary: oklch(92% 0 0);
    --text-secondary: oklch(65% 0 0);
    --text-tertiary: oklch(50% 0 0);
    
    --border-primary: oklch(25% 0 0);
    --border-strong: oklch(35% 0 0);
    --border-focus: oklch(92% 0 0);
    
    --accent-error-bg: oklch(20% 0.1 25);
  }
}
